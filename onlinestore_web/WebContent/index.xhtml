<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="templates/page-template.xhtml">

	<ui:define name="pageContent">

		<div id="main">

			<article class="post"> <header>
			<div class="title">
				<h2>Sklep internetowy</h2>
				<p>O nas</p>
			</div>
			</header>

			<p>Mauris neque quam, fermentum ut nisl vitae, convallis maximus
				nisl. Sed mattis nunc id lorem euismod placerat. Vivamus porttitor
				magna enim, ac accumsan tortor cursus at. Phasellus sed ultricies mi
				non congue ullam corper. Praesent tincidunt sed tellus ut rutrum.
				Sed vitae justo condimentum, porta lectus vitae, ultricies congue
				gravida diam non fringilla.</p>

			<footer>
			<ul class="actions">
				<li><a href="#" class="button large">Kontakt</a></li>
			</ul>
			</footer> </article>

		</div>

		<h:form rendered="#{loginBB.checkIfSeller()}">
			<section id="sidebar">
			<div>
				<h3 style="margin-bottom: 30px">Dodaj produkt</h3>
				<p:outputLabel for="name" value="Nazwa" class="formLabel" />
				<div class="formInput">
					<p:inputText id="name" value="#{productListBB.product.name}"
						required="true" requiredMessage="Wprowadz nazwę produktu">
					</p:inputText>
				</div>
				<p:message for="name" class="formMessage" />

				<p:outputLabel for="price" value="Cena" class="formLabel" />
				<div class="formInput">
					<p:inputText id="price" value="#{productListBB.product.price}"
						required="true" requiredMessage="Wprowadz cenę produktu">
					</p:inputText>
				</div>
				<p:message for="name" class="formMessage" />

				<p:outputLabel for="quantity" value="Dostępna ilość"
					class="formLabel" />
				<div class="formInput">
					<p:inputText id="quantity"
						value="#{productListBB.product.availableQuantity}" required="true"
						requiredMessage="Wprowadz dostępną ilość">
					</p:inputText>
				</div>
				<p:message for="name" class="formMessage" />


				<div style="clear: both">
					<p:commandButton value="Dodaj"
						action="#{productListBB.addProduct()}" update="@form" ajax="true" />
				</div>
			</div>
			</section>

			<section id="sidebar">
			<div class="mini-posts">
				<c:forEach items="#{productListBB.getList()}" var="p">

					<article class="mini-post"> <header>
					<h3>
						<h:outputText value="#{p.name}" />
					</h3>
					<h:outputText class="published" value="#{p.price}" /> <p:commandButton
						class="author" value="Usuń produkt"
						action="#{productListBB.deleteProduct(p)}" ajax="true"
						rendered="#{loginBB.checkIfSeller()}" update="@form" /> </header> <a
						href="#" class="image"><h:graphicImage
							url="/resources/images/#{p.name}.jpg" /></a> </article>

				</c:forEach>
			</div>
			</section>

		</h:form>





		<h:form id="products" rendered="#{loginBB.checkIfNotSeller()}">
			<section id="sidebar">
			<div class="mini-posts">
			
				<!-- <div style="margin-bottom: 10px">
					<select name="order" id="order" style="width: 250px">
						<option>Sortuj</option>
						<option value="volvo">Od najniższej ceny</option>
						<option value="volvo">Od najwyższej ceny</option>
						<option value="saab">Alfabetycznie</option>

					</select>
				</div>

				<p:outputLabel class="formLabel" />
				<div class="formInput" style="margin-bottom: -10px">
					<p:inputText value="#{productListBB.getName()}" />
				</div>
				<div style="clear: both; margin-top: 8px">
					<p:commandButton value="Wyszukaj"
						action="#{productListBB.search()}" update="products" />
				</div> -->
				
				<c:forEach items="#{productListBB.list}" var="p">
					<article class="mini-post"> <header>
					<h3>
						<h:outputText value="#{p.name}" />
					</h3>
					<h:outputText class="published" value="#{p.price}" /> <p:commandButton
						class="author" value="Dodaj do koszyka"
						action="#{orderPositionBB.addToCart(p)}" ajax="true"
						rendered="#{loginBB.checkIfUser()}" /> <p:commandButton
						class="author" value="Zaloguj się aby dodać do koszyka" action="#"
						ajax="true" rendered="#{loginBB.checkIfGuest()}" /> </header> <a href="#"
						class="image"><h:graphicImage
							url="/resources/images/#{p.name}.jpg" /></a> </article>
				</c:forEach>
			</div>
			</section>


			<div style="margin-top: 20px">
				<p:commandButton value="Poprzednia strona"
					action="#{productListBB.prevPage()}" ajax="true" update="products"
					rendered="#{productListBB.checkIfNotFirstPage()}" />
				<p:commandButton value="Poprzednia strona"
					action="#{productListBB.prevPage()}" ajax="true" update="products"
					rendered="#{productListBB.checkIfFirstPage()}"
					style="pointer-events: none; color: rgba(160, 160, 160, 0.3) !important;" />
				<p:commandButton value="Następna strona"
					action="#{productListBB.nextPage()}" ajax="true" update="products"
					rendered="#{productListBB.checkIfNotLastPage()}" />
				<p:commandButton value="Następna strona"
					action="#{productListBB.nextPage()}" ajax="true" update="products"
					rendered="#{productListBB.checkIfLastPage()}"
					style="pointer-events: none; color: rgba(160, 160, 160, 0.3) !important;" />
			</div>

		</h:form>
	</ui:define>
</ui:composition>



</html>